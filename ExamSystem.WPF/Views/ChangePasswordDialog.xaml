<Window x:Class="ExamSystem.WPF.Views.ChangePasswordDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="修改密码"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        SizeToContent="Height"
        MinWidth="360" MaxWidth="480"
        UseLayoutRounding="True"
        Background="{StaticResource BackgroundBrush}"
        FontFamily="Microsoft YaHei UI">
    
    <Border Style="{StaticResource Card}" Padding="20" Margin="16">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- 标题与说明 -->
            <StackPanel Grid.Row="0" Margin="0,0,0,12">
                <TextBlock Style="{StaticResource DialogTitleStyle}" Text="🔒 修改密码"/>
                <TextBlock Style="{StaticResource InfoTextStyle}" Text="为了账户安全，请设置至少 8 位且包含大小写字母与数字的密码。"/>
            </StackPanel>

            <!-- 表单区域：垂直布局提升可读性与响应性 -->
            <StackPanel Grid.Row="1">
                <TextBlock Style="{StaticResource FormLabelText}" Text="当前密码"/>
                <PasswordBox x:Name="OldPasswordBox" Style="{StaticResource ModernPasswordBox}"/>

                <TextBlock Style="{StaticResource FormLabelText}" Text="新密码" Margin="0,12,0,0"/>
                <PasswordBox x:Name="NewPasswordBox" Style="{StaticResource ModernPasswordBox}"/>
                <TextBlock Style="{StaticResource InfoTextStyle}" Text="至少 8 位，建议包含大小写字母、数字与特殊字符。"/>

                <TextBlock Style="{StaticResource FormLabelText}" Text="确认新密码" Margin="0,12,0,0"/>
                <PasswordBox x:Name="ConfirmPasswordBox" Style="{StaticResource ModernPasswordBox}"/>

                <!-- 内联错误提示：交互反馈更即时且不打断操作 -->
                <TextBlock x:Name="ErrorTextBlock" Style="{StaticResource ErrorTextStyle}"
                           Visibility="Collapsed"
                           TextWrapping="Wrap"
                           Margin="0,8,0,0"/>
            </StackPanel>

            <!-- 底部按钮：主次分明、对齐右侧 -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
                <Button x:Name="ConfirmButton" Content="确定" MinWidth="96" Style="{StaticResource PrimaryButtonStyle}" IsDefault="True" Click="OnConfirmClick"/>
                <Button Content="取消" MinWidth="96" Style="{StaticResource SecondaryButtonStyle}" IsCancel="True" Margin="8,0,0,0" Click="OnCancelClick"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>