<Window x:Class="ExamSystem.WPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"

        x:Name="RootWindow"
        Title="åœ¨çº¿è€ƒè¯•ç³»ç»Ÿ" 
        WindowStyle="None"
        Height="800" 
        Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5"
        FontFamily="Microsoft YaHei UI"
        FontSize="14"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True">
    

    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜æ  -->
        <Border Grid.Row="0" 
                Background="{StaticResource PrimaryBrush}" 
                Padding="16"
                MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <DockPanel>
                <Image Source="pack://application:,,,/logo.png"
                       DockPanel.Dock="Left"
                       Height="24"
                       Width="24"
                       Stretch="Uniform"
                       VerticalAlignment="Center"
                       Margin="0,0,16,0"
                       RenderOptions.BitmapScalingMode="HighQuality"/>
                <TextBlock Text="åœ¨çº¿è€ƒè¯•ç³»ç»Ÿ" 
                          FontSize="20" 
                          FontWeight="Bold" 
                          VerticalAlignment="Center"
                          Foreground="White"/>
                
                <StackPanel Orientation="Horizontal" 
                           DockPanel.Dock="Right" 
                           HorizontalAlignment="Right">
                    <!-- ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º -->
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="ðŸ‘¤" FontSize="16" Margin="0,0,6,0" Foreground="White"/>
                        <TextBlock Text="{Binding ElementName=RootWindow, Path=CurrentUsername}" 
                                   Foreground="White" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <!-- ä¸Šæ¬¡ç™»å½•æ—¶é—´æ˜¾ç¤º -->
                    <StackPanel Orientation="Horizontal" Margin="16,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="ðŸ•’" FontSize="16" Margin="0,0,6,0" Foreground="White"/>
                        <TextBlock Text="ä¸Šæ¬¡ç™»å½•ï¼š" Foreground="White" VerticalAlignment="Center"/>
                        <TextBlock Foreground="White" VerticalAlignment="Center">
                            <TextBlock.Text>
                                <Binding ElementName="RootWindow" Path="PreviousLoginAt" StringFormat="{}{0:yyyy-MM-dd HH:mm}" TargetNullValue="é¦–æ¬¡ç™»å½•" />
                            </TextBlock.Text>
                        </TextBlock>
                    </StackPanel>

                    <!-- åŠŸèƒ½æŒ‰é’®ï¼šä¿®æ”¹å¯†ç ã€é€€å‡ºç³»ç»Ÿ -->
                    <Button Content="ä¿®æ”¹å¯†ç "
                            Style="{StaticResource HeaderButton}"
                            Margin="16,0,0,0"
                            Click="ChangePasswordButton_Click"/>
                    <Button Content="é€€å‡ºç³»ç»Ÿ"
                            Style="{StaticResource HeaderButton}"
                            Margin="8,0,0,0"
                            Click="LogoutButton_Click"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <TabControl x:Name="MainTabControl"
                    Grid.Row="1" 
                    Style="{StaticResource ModernTabControl}"
                    Margin="16">
            
            <!-- ä»ªè¡¨æ¿ -->
            <TabItem x:Name="TabDashboard" Header="ä»ªè¡¨æ¿" Style="{StaticResource ModernTabItem}" IsSelected="True">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ " 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="ä»ªè¡¨æ¿" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="DashboardFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>
            
            <!-- é¢˜åº“ç®¡ç† -->
            <TabItem x:Name="TabQuestionBank" Header="é¢˜åº“ç®¡ç†" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“–" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="é¢˜åº“ç®¡ç†" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="QuestionBankFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- è¯•å·ç®¡ç† -->
            <TabItem x:Name="TabExamPaper" Header="è¯•å·ç®¡ç†" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“„" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="è¯•å·ç®¡ç†" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="ExamPaperFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- è€ƒè¯•ç®¡ç† -->
            <TabItem x:Name="TabExamManagement" Header="è€ƒè¯•ç®¡ç†" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="âœï¸" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="è€ƒè¯•ç®¡ç†" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="ExamFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- è€ƒè¯•ç»“æžœ -->
            <TabItem x:Name="TabExamResult" Header="è€ƒè¯•ç»“æžœ" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“Š" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="è€ƒè¯•ç»“æžœ" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="ExamResultFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- æˆç»©ç®¡ç†ï¼ˆæ•™å¸ˆ/ç®¡ç†å‘˜ï¼‰ -->
            <TabItem x:Name="TabGradeManagement" Header="æˆç»©ç®¡ç†" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ«" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="æˆç»©ç®¡ç†" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="GradeManagementFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- æ¶ˆæ¯ä¸­å¿ƒ -->
            <TabItem x:Name="TabMessageCenter" Header="æ¶ˆæ¯ä¸­å¿ƒ" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ’¬" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="æ¶ˆæ¯ä¸­å¿ƒ" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="MessageCenterFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- å­¦ä¹ èµ„æº -->
            <TabItem x:Name="TabLearningResources" Header="å­¦ä¹ èµ„æº" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“š" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="å­¦ä¹ èµ„æº" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="LearningResourcesFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- ç»Ÿè®¡æŠ¥è¡¨ -->
            <TabItem x:Name="TabStatistics" Header="ç»Ÿè®¡æŠ¥è¡¨" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“ˆ" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="ç»Ÿè®¡æŠ¥è¡¨" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="StatisticsFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- ç”¨æˆ·ç®¡ç† -->
            <TabItem x:Name="TabUserManagement" Header="ç”¨æˆ·ç®¡ç†" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ‘¥" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="ç”¨æˆ·ç®¡ç†" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="UserManagementFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>

            <!-- å»ºç­‘ç‰©ç®¡ç† -->
            <TabItem x:Name="TabBuildingManagement" Header="å»ºç­‘ç‰©ç®¡ç†" Style="{StaticResource ModernTabItem}">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ¢" 
                                      FontSize="16" 
                                      VerticalAlignment="Center" 
                                      Margin="0,0,4,0"/>
                            <TextBlock Text="å»ºç­‘ç‰©ç®¡ç†" VerticalAlignment="Center"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Frame Name="BuildingManagementFrame" NavigationUIVisibility="Hidden"/>
            </TabItem>
        </TabControl>

        <!-- çŠ¶æ€æ  -->
        <Border Grid.Row="2" 
                Background="{StaticResource PrimaryLightBrush}" 
                Padding="16,8">
            <DockPanel>
                <TextBlock Text="å°±ç»ª" 
                          DockPanel.Dock="Left" 
                          VerticalAlignment="Center"
                          Foreground="{StaticResource PrimaryBrush}"/>
                <TextBlock Text="{Binding ElementName=RootWindow, Path=CurrentTime, StringFormat='å½“å‰æ—¶é—´: {0:yyyy-MM-dd HH:mm:ss}'}" 
                          DockPanel.Dock="Right" 
                          HorizontalAlignment="Right" 
                          VerticalAlignment="Center"
                          Foreground="{StaticResource PrimaryBrush}"/>
            </DockPanel>
        </Border>
    </Grid>
</Window>